FROM node:16.16-alpine

WORKDIR /app

EXPOSE 3000

ENTRYPOINT ["npm"]

CMD ["start"]

COPY ./package*.json ./

ENV NODE_ENV=production

RUN npm install

COPY . .

USER 1000

ENV PORT=
ENV RABBITMQ_HOST=
ENV RABBITMQ_PORT=
ENV RABBITMQ_USERNAME=
ENV RABBITMQ_PASSWORD=
ENV AWS_ACCESS_KEY_ID=
ENV AWS_SECRET_ACCESS_KEY=
ENV AWS_ENDPOINT=
